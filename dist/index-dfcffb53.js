"use strict";var e=require("node:buffer"),n=require("node:path"),t=require("node:child_process"),r=require("node:process"),o=require("child_process"),i=require("path"),s=require("fs"),a=require("node:url"),c=require("node:os"),d=require("assert"),u=require("events"),p=require("node:fs"),l=require("buffer"),m=require("stream"),f=require("util"),h=require("node:util"),g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y,b,v,S,w,E={exports:{}};w="win32"===process.platform||g.TESTING_WINDOWS?function(){if(b)return y;b=1,y=t,t.sync=function(t,r){return n(e.statSync(t),t,r)};var e=s;function n(e,n,t){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,n){var t=void 0!==n.pathExt?n.pathExt:process.env.PATHEXT;if(!t)return!0;if(-1!==(t=t.split(";")).indexOf(""))return!0;for(var r=0;r<t.length;r++){var o=t[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(n,t)}function t(t,r,o){e.stat(t,(function(e,i){o(e,!e&&n(i,t,r))}))}return y}():function(){if(S)return v;S=1,v=n,n.sync=function(n,r){return t(e.statSync(n),r)};var e=s;function n(n,r,o){e.stat(n,(function(e,n){o(e,!e&&t(n,r))}))}function t(e,n){return e.isFile()&&function(e,n){var t=e.mode,r=e.uid,o=e.gid,i=void 0!==n.uid?n.uid:process.getuid&&process.getuid(),s=void 0!==n.gid?n.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return t&parseInt("001",8)||t&c&&o===s||t&a&&r===i||t&(a|c)&&0===i}(e,n)}return v}();var I=T;function T(e,n,t){if("function"==typeof n&&(t=n,n={}),!t){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(t,r){T(e,n||{},(function(e,n){e?r(e):t(n)}))}))}w(e,n||{},(function(e,r){e&&("EACCES"===e.code||n&&n.ignoreErrors)&&(e=null,r=!1),t(e,r)}))}T.sync=function(e,n){try{return w.sync(e,n||{})}catch(e){if(n&&n.ignoreErrors||"EACCES"===e.code)return!1;throw e}},x(I);const G="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,C=i,P=G?";":":",$=I,O=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),A=(e,n)=>{const t=n.colon||P,r=e.match(/\//)||G&&e.match(/\\/)?[""]:[...G?[process.cwd()]:[],...(n.path||process.env.PATH||"").split(t)],o=G?n.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=G?o.split(t):[""];return G&&-1!==e.indexOf(".")&&""!==i[0]&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:o}},L=(e,n,t)=>{"function"==typeof n&&(t=n,n={}),n||(n={});const{pathEnv:r,pathExt:o,pathExtExe:i}=A(e,n),s=[],a=t=>new Promise(((o,i)=>{if(t===r.length)return n.all&&s.length?o(s):i(O(e));const a=r[t],d=/^".*"$/.test(a)?a.slice(1,-1):a,u=C.join(d,e),p=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;o(c(p,t,0))})),c=(e,t,r)=>new Promise(((d,u)=>{if(r===o.length)return d(a(t+1));const p=o[r];$(e+p,{pathExt:i},((o,i)=>{if(!o&&i){if(!n.all)return d(e+p);s.push(e+p)}return d(c(e,t,r+1))}))}));return t?a(0).then((e=>t(null,e)),t):a(0)};var _=L;L.sync=(e,n)=>{n=n||{};const{pathEnv:t,pathExt:r,pathExtExe:o}=A(e,n),i=[];for(let s=0;s<t.length;s++){const a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,d=C.join(c,e),u=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const t=u+r[e];try{if($.sync(t,{pathExt:o})){if(!n.all)return t;i.push(t)}}catch(e){}}}if(n.all&&i.length)return i;if(n.nothrow)return null;throw O(e)},x(_);var B={exports:{}};const N=(e={})=>{const n=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(n).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};B.exports=N,B.exports.default=N;var R=B.exports;x(R);const j=i,U=_,M=R;function k(e,n){const t=e.options.env||process.env,r=process.cwd(),o=null!=e.options.cwd,i=o&&void 0!==process.chdir&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch(e){}let s;try{s=U.sync(e.command,{path:t[M({env:t})],pathExt:n?j.delimiter:void 0})}catch(e){}finally{i&&process.chdir(r)}return s&&(s=j.resolve(o?e.options.cwd:"",s)),s}var q=function(e){return k(e)||k(e,!0)};x(q);var D={};const F=/([()\][%!^"`<>&|;, *?])/g;D.command=function(e){return e=e.replace(F,"^$1")},D.argument=function(e,n){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(F,"^$1"),n&&(e=e.replace(F,"^$1")),e};var H=/^#!(.*)/;x(H);const X=H;var V=(e="")=>{const n=e.match(X);if(!n)return null;const[t,r]=n[0].replace(/#! ?/,"").split(" "),o=t.split("/").pop();return"env"===o?r:r?`${o} ${r}`:o};x(V);const W=s,K=V;var Y=function(e){const n=Buffer.alloc(150);let t;try{t=W.openSync(e,"r"),W.readSync(t,n,0,150,0),W.closeSync(t)}catch(e){}return K(n.toString())};x(Y);const Z=i,z=q,Q=D,J=Y,ee="win32"===process.platform,ne=/\.(?:com|exe)$/i,te=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function re(e){if(!ee)return e;const n=function(e){e.file=z(e);const n=e.file&&J(e.file);return n?(e.args.unshift(e.file),e.command=n,z(e)):e.file}(e),t=!ne.test(n);if(e.options.forceShell||t){const t=te.test(n);e.command=Z.normalize(e.command),e.command=Q.command(e.command),e.args=e.args.map((e=>Q.argument(e,t)));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}var oe=function(e,n,t){n&&!Array.isArray(n)&&(t=n,n=null);const r={command:e,args:n=n?n.slice(0):[],options:t=Object.assign({},t),file:void 0,original:{command:e,args:n}};return t.shell?r:re(r)};x(oe);const ie="win32"===process.platform;function se(e,n){return Object.assign(new Error(`${n} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${n} ${e.command}`,path:e.command,spawnargs:e.args})}function ae(e,n){return ie&&1===e&&!n.file?se(n.original,"spawn"):null}var ce={hookChildProcess:function(e,n){if(!ie)return;const t=e.emit;e.emit=function(r,o){if("exit"===r){const r=ae(o,n);if(r)return t.call(e,"error",r)}return t.apply(e,arguments)}},verifyENOENT:ae,verifyENOENTSync:function(e,n){return ie&&1===e&&!n.file?se(n.original,"spawnSync"):null},notFoundError:se};x(ce);const de=o,ue=oe,pe=ce;function le(e,n,t){const r=ue(e,n,t),o=de.spawn(r.command,r.args,r.options);return pe.hookChildProcess(o,r),o}E.exports=le,E.exports.spawn=le,E.exports.sync=function(e,n,t){const r=ue(e,n,t),o=de.spawnSync(r.command,r.args,r.options);return o.error=o.error||pe.verifyENOENTSync(o.status,r),o},E.exports._parse=ue,E.exports._enoent=pe;var me=x(E.exports);function fe(e={}){const{env:n=process.env,platform:t=process.platform}=e;return"win32"!==t?"PATH":Object.keys(n).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"}function he({env:e=r.env,...t}={}){const o=fe({env:e={...e}});return t.path=e[o],e[o]=function(e={}){const{cwd:t=r.cwd(),path:o=r.env[fe()],execPath:i=r.execPath}=e;let s;const c=t instanceof URL?a.fileURLToPath(t):t;let d=n.resolve(c);const u=[];for(;s!==d;)u.push(n.join(d,"node_modules/.bin")),s=d,d=n.resolve(d,"..");return u.push(n.resolve(c,i,"..")),[...u,o].join(n.delimiter)}(t),e}const ge=(e,n)=>({name:`SIGRT${n+1}`,number:xe+n,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),xe=34,ye=64,be=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],ve=()=>{const e=(()=>{const e=ye-xe+1;return Array.from({length:e},ge)})();return[...be,...e].map(Se)},Se=({name:e,number:n,description:t,action:r,forced:o=!1,standard:i})=>{const{signals:{[e]:s}}=c.constants,a=void 0!==s;return{name:e,number:a?s:n,description:t,supported:a,action:r,forced:o,standard:i}},we=({name:e,number:n,description:t,supported:r,action:o,forced:i,standard:s})=>[e,{name:e,number:n,description:t,supported:r,action:o,forced:i,standard:s}],Ee=(()=>{const e=ve();return Object.fromEntries(e.map(we))})(),Ie=(e,n)=>{const t=Te(e,n);if(void 0===t)return{};const{name:r,description:o,supported:i,action:s,forced:a,standard:c}=t;return{[e]:{name:r,number:e,description:o,supported:i,action:s,forced:a,standard:c}}},Te=(e,n)=>{const t=n.find((({name:n})=>c.constants.signals[n]===e));return void 0!==t?t:n.find((n=>n.number===e))};(()=>{const e=ve(),n=ye+1,t=Array.from({length:n},((n,t)=>Ie(t,e)));Object.assign({},...t)})();const Ge=({stdout:e,stderr:n,all:t,error:r,signal:o,exitCode:i,command:s,escapedCommand:a,timedOut:c,isCanceled:d,killed:u,parsed:{options:{timeout:p}}})=>{i=null===i?void 0:i;const l=void 0===(o=null===o?void 0:o)?void 0:Ee[o].description,m=(({timedOut:e,timeout:n,errorCode:t,signal:r,signalDescription:o,exitCode:i,isCanceled:s})=>e?`timed out after ${n} milliseconds`:s?"was canceled":void 0!==t?`failed with ${t}`:void 0!==r?`was killed with ${r} (${o})`:void 0!==i?`failed with exit code ${i}`:"failed")({timedOut:c,timeout:p,errorCode:r&&r.code,signal:o,signalDescription:l,exitCode:i,isCanceled:d}),f=`Command ${m}: ${s}`,h="[object Error]"===Object.prototype.toString.call(r),g=h?`${f}\n${r.message}`:f,x=[g,n,e].filter(Boolean).join("\n");return h?(r.originalMessage=r.message,r.message=x):r=new Error(x),r.shortMessage=g,r.command=s,r.escapedCommand=a,r.exitCode=i,r.signal=o,r.signalDescription=l,r.stdout=e,r.stderr=n,void 0!==t&&(r.all=t),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(c),r.isCanceled=d,r.killed=u&&!c,r},Ce=["stdin","stdout","stderr"],Pe=e=>{if(!e)return;const{stdio:n}=e;if(void 0===n)return Ce.map((n=>e[n]));if((e=>Ce.some((n=>void 0!==e[n])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ce.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof n)return n;if(!Array.isArray(n))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof n}\``);const t=Math.max(n.length,Ce.length);return Array.from({length:t},((e,t)=>n[t]))};var $e,Oe={exports:{}},Ae={exports:{}};var Le=g.process;const _e=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(_e(Le)){var Be,Ne=d,Re=($e||($e=1,(Ke=Ae).exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&Ke.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&Ke.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")),Ae.exports),je=/^win/i.test(Le.platform),Ue=u;"function"!=typeof Ue&&(Ue=Ue.EventEmitter),Le.__signal_exit_emitter__?Be=Le.__signal_exit_emitter__:((Be=Le.__signal_exit_emitter__=new Ue).count=0,Be.emitted={}),Be.infinite||(Be.setMaxListeners(Infinity),Be.infinite=!0),Oe.exports=function(e,n){if(!_e(g.process))return function(){};Ne.equal(typeof e,"function","a callback must be provided for exit handler"),!1===De&&Fe();var t="exit";n&&n.alwaysLast&&(t="afterexit");return Be.on(t,e),function(){Be.removeListener(t,e),0===Be.listeners("exit").length&&0===Be.listeners("afterexit").length&&Me()}};var Me=function(){De&&_e(g.process)&&(De=!1,Re.forEach((function(e){try{Le.removeListener(e,qe[e])}catch(e){}})),Le.emit=Ve,Le.reallyExit=He,Be.count-=1)};Oe.exports.unload=Me;var ke=function(e,n,t){Be.emitted[e]||(Be.emitted[e]=!0,Be.emit(e,n,t))},qe={};Re.forEach((function(e){qe[e]=function(){_e(g.process)&&(Le.listeners(e).length===Be.count&&(Me(),ke("exit",null,e),ke("afterexit",null,e),je&&"SIGHUP"===e&&(e="SIGINT"),Le.kill(Le.pid,e)))}})),Oe.exports.signals=function(){return Re};var De=!1,Fe=function(){!De&&_e(g.process)&&(De=!0,Be.count+=1,Re=Re.filter((function(e){try{return Le.on(e,qe[e]),!0}catch(e){return!1}})),Le.emit=We,Le.reallyExit=Xe)};Oe.exports.load=Fe;var He=Le.reallyExit,Xe=function(e){_e(g.process)&&(Le.exitCode=e||0,ke("exit",Le.exitCode,null),ke("afterexit",Le.exitCode,null),He.call(Le,Le.exitCode))},Ve=Le.emit,We=function(e,n){if("exit"===e&&_e(g.process)){void 0!==n&&(Le.exitCode=n);var t=Ve.apply(this,arguments);return ke("exit",Le.exitCode,null),ke("afterexit",Le.exitCode,null),t}return Ve.apply(this,arguments)}}else Oe.exports=function(){return function(){}};var Ke;x(Oe.exports);var Ye={exports:{}};const{PassThrough:Ze}=m;var ze=e=>{e={...e};const{array:n}=e;let{encoding:t}=e;const r="buffer"===t;let o=!1;n?o=!(t||r):t=t||"utf8",r&&(t=null);const i=new Ze({objectMode:o});t&&i.setEncoding(t);let s=0;const a=[];return i.on("data",(e=>{a.push(e),o?s=a.length:s+=e.length})),i.getBufferedValue=()=>n?a:r?Buffer.concat(a,s):a.join(""),i.getBufferedLength=()=>s,i};x(ze);const{constants:Qe}=l,Je=m,{promisify:en}=f,nn=ze,tn=en(Je.pipeline);class rn extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function on(e,n){if(!e)throw new Error("Expected a stream");n={maxBuffer:Infinity,...n};const{maxBuffer:t}=n,r=nn(n);return await new Promise(((n,o)=>{const i=e=>{e&&r.getBufferedLength()<=Qe.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),o(e)};(async()=>{try{await tn(e,r),n()}catch(e){i(e)}})(),r.on("data",(()=>{r.getBufferedLength()>t&&i(new rn)}))})),r.getBufferedValue()}Ye.exports=on,Ye.exports.buffer=(e,n)=>on(e,{...n,encoding:"buffer"}),Ye.exports.array=(e,n)=>on(e,{...n,array:!0}),Ye.exports.MaxBufferError=rn,x(Ye.exports);const{PassThrough:sn}=m;x((function(){var e=[],n=new sn({objectMode:!0});return n.setMaxListeners(0),n.add=t,n.isEmpty=function(){return 0==e.length},n.on("unpipe",r),Array.prototype.slice.call(arguments).forEach(t),n;function t(o){return Array.isArray(o)?(o.forEach(t),this):(e.push(o),o.once("end",r.bind(null,o)),o.once("error",n.emit.bind(n,"error")),o.pipe(n,{end:!1}),this)}function r(t){!(e=e.filter((function(e){return e!==t}))).length&&n.readable&&n.end()}}));const an=({input:e,inputFile:n})=>"string"!=typeof n?e:((e=>{if(void 0!==e)throw new TypeError("The `input` and `inputFile` options cannot be both set.")})(e),p.readFileSync(n)),cn=e=>{const n=an(e);if(function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}(n))throw new TypeError("The `input` option cannot be a stream in sync mode");return n},dn=(async()=>{})().constructor.prototype;["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(dn,e)]));const un=(e,n=[])=>Array.isArray(n)?[e,...n]:[e],pn=/^[\w.-]+$/,ln=/"/g,mn=(e,n)=>un(e,n).join(" "),fn=(e,n)=>un(e,n).map((e=>(e=>"string"!=typeof e||pn.test(e)?e:`"${e.replace(ln,'\\"')}"`)(e))).join(" "),hn=/ +/g,gn=h.debuglog("execa").enabled,xn=(e,n)=>String(e).padStart(n,"0"),yn=(e,{verbose:n})=>{n&&r.stderr.write(`[${(()=>{const e=new Date;return`${xn(e.getHours(),2)}:${xn(e.getMinutes(),2)}:${xn(e.getSeconds(),2)}.${xn(e.getMilliseconds(),3)}`})()}] ${e}\n`)},bn=(e,t,o={})=>{const i=me._parse(e,t,o);return e=i.command,t=i.args,(o={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(o=i.options).cwd||r.cwd(),execPath:r.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:gn,...o}).env=(({env:e,extendEnv:n,preferLocal:t,localDir:o,execPath:i})=>{const s=n?{...r.env,...e}:e;return t?he({env:s,cwd:o,execPath:i}):s})(o),o.stdio=Pe(o),"win32"===r.platform&&"cmd"===n.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:o,parsed:i}},vn=(n,t,r)=>"string"==typeof t||e.Buffer.isBuffer(t)?n.stripFinalNewline?function(e){const n="string"==typeof e?"\n":"\n".charCodeAt(),t="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===n&&(e=e.slice(0,-1)),e[e.length-1]===t&&(e=e.slice(0,-1)),e}(t):t:void 0===r?void 0:"";function Sn(e,n,r){const o=bn(e,n,r),i=mn(e,n),s=fn(e,n);yn(s,o.options);const a=cn(o.options);let c;try{c=t.spawnSync(o.file,o.args,{...o.options,input:a})}catch(e){throw Ge({error:e,stdout:"",stderr:"",all:"",command:i,escapedCommand:s,parsed:o,timedOut:!1,isCanceled:!1,killed:!1})}const d=vn(o.options,c.stdout,c.error),u=vn(o.options,c.stderr,c.error);if(c.error||0!==c.status||null!==c.signal){const e=Ge({stdout:d,stderr:u,error:c.error,signal:c.signal,exitCode:c.status,command:i,escapedCommand:s,parsed:o,timedOut:c.error&&"ETIMEDOUT"===c.error.code,isCanceled:!1,killed:null!==c.signal});if(!o.options.reject)return e;throw e}return{command:i,escapedCommand:s,exitCode:0,stdout:d,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}exports.execaCommandSync=function(e,n){const[t,...r]=(e=>{const n=[];for(const t of e.trim().split(hn)){const e=n[n.length-1];e&&e.endsWith("\\")?n[n.length-1]=`${e.slice(0,-1)} ${t}`:n.push(t)}return n})(e);return Sn(t,r,n)},exports.execaSync=Sn;
